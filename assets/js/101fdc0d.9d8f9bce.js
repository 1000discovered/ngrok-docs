"use strict";(self.webpackChunkngrok_doc=self.webpackChunkngrok_doc||[]).push([[85202],{60527:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var n=a(51163),o=(a(59496),a(49613));const i={},r="Configuring Okta Single Sign-On (SSO)",s={unversionedId:"guides/dashboard-sso-okta-setup",id:"guides/dashboard-sso-okta-setup",title:"Configuring Okta Single Sign-On (SSO)",description:"---",source:"@site/docs/guides/dashboard-sso-okta-setup.md",sourceDirName:"guides",slug:"/guides/dashboard-sso-okta-setup",permalink:"/docs/guides/dashboard-sso-okta-setup",draft:!1,editUrl:"https://github.com/ngrok/ngrok-docs/edit/main/docs/guides/dashboard-sso-okta-setup.md",tags:[],version:"current",lastUpdatedBy:"Russ Savage",lastUpdatedAt:1691862991,formattedLastUpdatedAt:"Aug 12, 2023",frontMatter:{},sidebar:"docs",previous:{title:"Windows",permalink:"/docs/guides/device-gateway/windows"},next:{title:"How to do Weighted Round-Robin Load Balancing with ngrok Cloud Edges",permalink:"/docs/guides/how-to-do-weighted-load-balancing-with-ngrok-cloud-edges"}},d={},l=[{value:"Create a new SAML App Integration in Okta",id:"create-a-new-saml-app-integration-in-okta",level:2},{value:"Download your SAML App metadata XML",id:"download-your-saml-app-metadata-xml",level:2},{value:"Configure Single Sign-On (SSO) for your ngrok account",id:"configure-single-sign-on-sso-for-your-ngrok-account",level:2},{value:"Add the ngrok generated URLs to your Okta SAML application",id:"add-the-ngrok-generated-urls-to-your-okta-saml-application",level:2}],g={toc:l},c="wrapper";function u(t){let{components:e,...i}=t;return(0,o.kt)(c,(0,n.Z)({},g,i,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"configuring-okta-single-sign-on-sso"},"Configuring Okta Single Sign-On (SSO)"),(0,o.kt)("hr",null),(0,o.kt)("p",null,"This guide will walk you through configuring the ngrok dashboard to use Okta as an identity provider and enable single sign-on for your ngrok account. This should not be confused with ",(0,o.kt)("a",{parentName:"p",href:"/integrations/okta/sso-oidc"},"configuring an ngrok edge to allow your application users to log in using Okta"),"."),(0,o.kt)("p",null,"The requirements for completing this guide are:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Admin access to create new applications in Okta"),(0,o.kt)("li",{parentName:"ul"},"Admin access to edit your ngrok account settings"),(0,o.kt)("li",{parentName:"ul"},"An ",(0,o.kt)("a",{parentName:"li",href:"https://ngrok.com/pricing"},"ngrok Enterprise")," account")),(0,o.kt)("h2",{id:"create-a-new-saml-app-integration-in-okta"},"Create a new SAML App Integration in Okta"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},'From the "Applications" menu, click the blue "Create App Integration" button.\n',(0,o.kt)("img",{src:a(65511).Z,width:"2018",height:"440"})),(0,o.kt)("li",{parentName:"ol"},'Select "SAML 2.0" and click "Next"\n',(0,o.kt)("img",{src:a(27915).Z,width:"1884",height:"1094"})),(0,o.kt)("li",{parentName:"ol"},'Give your app a name, and click "Next"\n',(0,o.kt)("img",{src:a(51498).Z,width:"1586",height:"1234"})),(0,o.kt)("li",{parentName:"ol"},'Enter in temporary values for "Single sign on URL" and "Audience URI" and select "EmailAddress" for "Name ID format" and then click "Next". ngrok requires the username to be in email format.\n',(0,o.kt)("img",{src:a(68849).Z,width:"1474",height:"1528"})),(0,o.kt)("li",{parentName:"ol"},'Select "I\u2019m an Okta customer adding an internal app" and click "Finish".')),(0,o.kt)("h2",{id:"download-your-saml-app-metadata-xml"},"Download your SAML App metadata XML"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},'Navigate to the "Sign On" Tab on the new app and click on "Actions" under the Active SHA-2 certificate'),(0,o.kt)("li",{parentName:"ol"},'Click "View IdP metadata".\n',(0,o.kt)("img",{src:a(91474).Z,width:"2086",height:"704"})),(0,o.kt)("li",{parentName:"ol"},'In that new window, Select "Save As" from the File menu to save your metadata.xml file for uploading into ngrok in a later step.',(0,o.kt)("br",{parentName:"li"}),(0,o.kt)("img",{src:a(47923).Z,width:"565",height:"262"}))),(0,o.kt)("h2",{id:"configure-single-sign-on-sso-for-your-ngrok-account"},"Configure Single Sign-On (SSO) for your ngrok account"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Log into your ngrok dashboard and navigate to the ",(0,o.kt)("a",{parentName:"li",href:"https://dashboard.ngrok.com/settings"},'"Settings > Account"')," section in the left navigation menu.\n",(0,o.kt)("img",{src:a(80505).Z,width:"1479",height:"399"})),(0,o.kt)("li",{parentName:"ol"},'Select "+ New Identity Provider" button to add a new identity provider.'),(0,o.kt)("li",{parentName:"ol"},"Add a helpful description, and then upload the metadata.xml file from Okta into the ngrok dashboard.\n",(0,o.kt)("img",{src:a(94121).Z,width:"679",height:"622"})),(0,o.kt)("li",{parentName:"ol"},"In the Options section, select whether you'd like to allow users to log into the dashboard directly from their Okta dashboard"),(0,o.kt)("li",{parentName:"ol"},"Determine if you'd like to enable Just in Time (JiT) provisioning or require invites in order to be added to the account. With JiT provisioning enabled, users that log into ngrok directly from their Okta dashboard will automatically be prompted to join the new account."),(0,o.kt)("li",{parentName:"ol"},'Click "Save". Clicking Save will create the integration and generate the required URLs for your Okta Application.\n',(0,o.kt)("img",{src:a(50319).Z,width:"666",height:"541"}))),(0,o.kt)("h2",{id:"add-the-ngrok-generated-urls-to-your-okta-saml-application"},"Add the ngrok generated URLs to your Okta SAML application"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},'Back in your Okta account, on the "General" tab of your Okta app, click on "Edit" under "SAML Settings"\n',(0,o.kt)("img",{src:a(29961).Z,width:"1506",height:"1138"})),(0,o.kt)("li",{parentName:"ol"},'Ensure the values are correct, and click "Next"'),(0,o.kt)("li",{parentName:"ol"},'Replace the values ngrok provided you. The ACS goes in "Single sign on URL" field and the EntityID in the "Audience URI (SP Entity ID)" field. Then click "Next".\n',(0,o.kt)("img",{src:a(87574).Z,width:"1478",height:"648"})),(0,o.kt)("li",{parentName:"ol"},'Click "Finish"')),(0,o.kt)("p",null,"Congratulations, you should now be configured property to log into your ngrok account using Okta!"),(0,o.kt)("p",null,'By default, your ngrok account will still allow users to log in with their existing credentials as well as through Okta ("Mixed Mode"). Once you verify that everything is working properly with your integration, you can enable "SSO Enforced" in the ngrok Dashboard which will require all new users to log in through Okta for their ngrok account.'))}u.isMDXComponent=!0},27915:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/okta-create-app-1-aca3134b850645aa3fedfc59807426d3.png"},65511:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/okta-create-app-72c8448aac7f3d9ec4e540a23e01ceef.png"},29961:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/okta-edit-app-88140fb7d470d7f7f2c7889018759174.png"},51498:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/okta-name-app-29393ac4237143a47239fd6138025179.png"},68849:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/okta-nameid-format-f6a56f71f23b74253c552987d1e6441a.png"},80505:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/okta-ngrok-account-settings-3355a91e8cae51d51478df360edcc381.png"},94121:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/okta-ngrok-config-options-4fe0250dabafa0604c4d493333952354.png"},50319:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/okta-ngrok-required-urls-02165ca24948299093fa72659935a118.png"},47923:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/okta-save-as-xml-a8fdee17754ce72a85ea970774f7a27f.png"},87574:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/okta-temp-urls-fa8f21007be4ffbd782a84e0c8ed91c6.png"},91474:(t,e,a)=>{a.d(e,{Z:()=>n});const n=a.p+"assets/images/okta-view-cert-8995607b4d48509e8588b6af9d26d192.png"}}]);