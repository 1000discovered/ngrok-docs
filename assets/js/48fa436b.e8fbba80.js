"use strict";(self.webpackChunkngrok_doc=self.webpackChunkngrok_doc||[]).push([[92154],{44850:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>w,frontMatter:()=>n,metadata:()=>a,toc:()=>p});var o=r(51163),s=(r(59496),r(49613));const n={title:"Wordpress"},i="Using ngrok with Wordpress",a={unversionedId:"using-ngrok-with/wordpress",id:"using-ngrok-with/wordpress",title:"Wordpress",description:"---",source:"@site/docs/using-ngrok-with/wordpress.md",sourceDirName:"using-ngrok-with",slug:"/using-ngrok-with/wordpress",permalink:"/docs/using-ngrok-with/wordpress",draft:!1,editUrl:"https://github.com/ngrok/ngrok-docs/edit/main/docs/using-ngrok-with/wordpress.md",tags:[],version:"current",lastUpdatedBy:"Russ Savage",lastUpdatedAt:1691862991,formattedLastUpdatedAt:"Aug 12, 2023",frontMatter:{title:"Wordpress"},sidebar:"docs",previous:{title:"Websockets",permalink:"/docs/using-ngrok-with/websockets"},next:{title:"What is ngrok Cloud Edge?",permalink:"/docs/cloud-edge/"}},d={},p=[],u={toc:p},l="wrapper";function w(e){let{components:t,...r}=e;return(0,s.kt)(l,(0,o.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"using-ngrok-with-wordpress"},"Using ngrok with Wordpress"),(0,s.kt)("hr",null),(0,s.kt)("admonition",{type:"tip"},(0,s.kt)("p",{parentName:"admonition"},"This article assumes you familiar with moderate to advanced Wordpress configuration.")),(0,s.kt)("p",null,"To make ngrok work properly with Wordpress installations you usually need to do these three things:"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"You must instruct ngrok to ",(0,s.kt)("a",{parentName:"p",href:"/secure-tunnels/ngrok-agent/reference/ngrok#ngrok-http"},"rewrite the host header")," and point to the port of your Wordpress install (usually port 80), like so:"),(0,s.kt)("pre",{parentName:"li"},(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"ngrok http 80 --host-header=rewrite --domain www.your-site.dev\n"))),(0,s.kt)("li",{parentName:"ol"},(0,s.kt)("p",{parentName:"li"},"You must ensure that Wordpress understands that it is meant to serve itself from your tunneled hostname. You can configure Wordpress to do that by modifying your ",(0,s.kt)("a",{parentName:"p",href:"https://developer.wordpress.org/advanced-administration/wordpress/wp-config/"},(0,s.kt)("inlineCode",{parentName:"a"},"wp-config"))," to include the following lines where ",(0,s.kt)("inlineCode",{parentName:"p"},"www.your-site.dev")," is replaced with the URL from ngrok:"),(0,s.kt)("pre",{parentName:"li"},(0,s.kt)("code",{parentName:"pre",className:"language-php"},"    define('.COOKIE_DOMAIN.', 'www.your-site.dev');\n    define('.SITECOOKIEPATH.', '.');\n\n    if(isset($_SERVER['HTTP_X_FORWARDED_FOR'])) {\n            $list = explode(',',$_SERVER['HTTP_X_FORWARDED_FOR']);\n            $_SERVER['REMOTE_ADDR'] = $list[0];\n    }\n    define( 'WP_HOME', 'https://www.your-site.dev' );\n    define( 'WP_SITEURL', 'https://www.your-site.dev' );\n    $_SERVER['HTTP_HOST'] = 'www.your-site.dev';\n    $_SERVER['REMOTE_ADDR'] = 'https://www.your-site.dev';\n    $_SERVER[ 'SERVER_ADDR' ] = 'www.your-site.dev';\n")))))}w.isMDXComponent=!0}}]);