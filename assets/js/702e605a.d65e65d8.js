"use strict";(self.webpackChunkngrok_doc=self.webpackChunkngrok_doc||[]).push([[96608],{73915:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>u});var a=t(51163),i=(t(59496),t(49613));const s={sidebar_position:9,title:"Installing as a Service"},r="ngrok as a Background Service",o={unversionedId:"secure-tunnels/ngrok-agent/installing-as-a-service",id:"secure-tunnels/ngrok-agent/installing-as-a-service",title:"Installing as a Service",description:"---",source:"@site/docs/secure-tunnels/ngrok-agent/installing-as-a-service.md",sourceDirName:"secure-tunnels/ngrok-agent",slug:"/secure-tunnels/ngrok-agent/installing-as-a-service",permalink:"/docs/secure-tunnels/ngrok-agent/installing-as-a-service",draft:!1,editUrl:"https://github.com/ngrok/ngrok-docs/edit/main/docs/secure-tunnels/ngrok-agent/installing-as-a-service.md",tags:[],version:"current",lastUpdatedBy:"Russ Savage",lastUpdatedAt:1691862991,formattedLastUpdatedAt:"Aug 12, 2023",sidebarPosition:9,frontMatter:{sidebar_position:9,title:"Installing as a Service"},sidebar:"docs",previous:{title:"Automatic Updates",permalink:"/docs/secure-tunnels/ngrok-agent/automatic-updates"},next:{title:"Remote Management",permalink:"/docs/secure-tunnels/ngrok-agent/remote-management"}},l={},u=[{value:"Supported Systems",id:"supported-systems",level:2},{value:"Windows",id:"windows",level:3},{value:"MacOS",id:"macos",level:3},{value:"Linux",id:"linux",level:3},{value:"Installation",id:"installation",level:2},{value:"Management",id:"management",level:2}],d={toc:u},g="wrapper";function c(e){let{components:n,...t}=e;return(0,i.kt)(g,(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"ngrok-as-a-background-service"},"ngrok as a Background Service"),(0,i.kt)("hr",null),(0,i.kt)("p",null,"The ngrok agent includes additional functionality that makes it easy to install and manage itself as a native operating system service on Windows, MacOS and Linux. This makes it extraordinarily easy to set up ngrok in a production configuration that will cause it to start on machine boot, restart after crashes, and integrate with the native tools system administrators are familiar with to manage and inspect its state."),(0,i.kt)("p",null,"When running as a service, the ngrok agent configures itself from its configuration file and starts all tunnels defined in the configuration file. When ngrok runs as a service, it executes the equivalent behavior of running ",(0,i.kt)("inlineCode",{parentName:"p"},"ngrok start --all"),"."),(0,i.kt)("p",null,"Note: Installing ngrok as a service requires admin or sudo permissions in most cases."),(0,i.kt)("h2",{id:"supported-systems"},"Supported Systems"),(0,i.kt)("h3",{id:"windows"},"Windows"),(0,i.kt)("p",null,"On Windows, the ngrok agent installs itself as a Windows service. It can be managed via Windows Services and it logs all errors and warnings to the Windows event log."),(0,i.kt)("h3",{id:"macos"},"MacOS"),(0,i.kt)("p",null,"On MacOS Darwin, the ngrok agent creates an appropriate plist file and installs itself to run via launchd. Warnings and errors are logged via syslog."),(0,i.kt)("h3",{id:"linux"},"Linux"),(0,i.kt)("p",null,"On Linux, only systems with upstart or systemd installed are supported for service installation. If neither is installed, you will need to set up your own management of the ngrok process as a service. Warnings and errors are logged via syslog."),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("p",null,"Installing ngrok as a system service is the same on all on operating systems. First, create a configuration file somewhere on your machine. For this example, let's assume it's in ",(0,i.kt)("inlineCode",{parentName:"p"},"C:\\ngrok\\ngrok.yml"),". In your configuration file, make sure you include an ",(0,i.kt)("inlineCode",{parentName:"p"},"authtoken")," and define all of the tunnels that you want to start. Then run:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"ngrok service install --config C:\\ngrok\\ngrok.yml\n")),(0,i.kt)("p",null,"This will validate that the configuration file is valid, and if so, install ngrok as a service using the given configuration file. The service installation includes the location of the ngrok binary, so don't move or delete it after you've installed the service."),(0,i.kt)("h2",{id:"management"},"Management"),(0,i.kt)("p",null,"After your service is installed, you probably want to start it. You can easily do that with:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"ngrok service start\n")),(0,i.kt)("p",null,"ngrok exposes the following commands to make service administration easy. The commands take no arguments and do what you would expect."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ngrok service start")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ngrok service stop")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ngrok service restart")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"ngrok service uninstall"))))}c.isMDXComponent=!0}}]);