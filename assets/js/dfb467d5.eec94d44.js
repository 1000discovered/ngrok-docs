"use strict";(self.webpackChunkngrok_doc=self.webpackChunkngrok_doc||[]).push([[13483],{8378:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=n(51163),o=(n(59496),n(49613));const i={title:"Send Network Logs from ngrok to AWS CloudWatch",description:"Send network traffic logs from ngrok to AWS CloudWatch",tags:["events","logs","cloudwatch","aws","event destinations"]},r="AWS CloudWatch Event Destination",s={unversionedId:"integrations/amazon-cloudwatch/event-destination",id:"integrations/amazon-cloudwatch/event-destination",title:"Send Network Logs from ngrok to AWS CloudWatch",description:"Send network traffic logs from ngrok to AWS CloudWatch",source:"@site/docs/integrations/amazon-cloudwatch/event-destination.md",sourceDirName:"integrations/amazon-cloudwatch",slug:"/integrations/amazon-cloudwatch/event-destination",permalink:"/docs/integrations/amazon-cloudwatch/event-destination",draft:!1,editUrl:"https://github.com/ngrok/ngrok-docs/edit/main/docs/integrations/amazon-cloudwatch/event-destination.md",tags:[{label:"events",permalink:"/docs/tags/events"},{label:"logs",permalink:"/docs/tags/logs"},{label:"cloudwatch",permalink:"/docs/tags/cloudwatch"},{label:"aws",permalink:"/docs/tags/aws"},{label:"event destinations",permalink:"/docs/tags/event-destinations"}],version:"current",lastUpdatedBy:"Russ Savage",lastUpdatedAt:1692661363,formattedLastUpdatedAt:"Aug 21, 2023",frontMatter:{title:"Send Network Logs from ngrok to AWS CloudWatch",description:"Send network traffic logs from ngrok to AWS CloudWatch",tags:["events","logs","cloudwatch","aws","event destinations"]},sidebar:"docs",previous:{title:"Amazon CloudWatch",permalink:"/docs/integrations/amazon-cloudwatch/"},next:{title:"Amazon EKS",permalink:"/docs/integrations/amazon-eks/"}},l={},c=[{value:"<strong>Step 1</strong>: Obtain CloudWatch Log Group ARN",id:"obtain-cloudwatch-arn",level:2},{value:"<strong>Step 2</strong>: Create an Event Subscription",id:"create-event-subscription",level:2},{value:"<strong>Step 3</strong>: Create Event Destination",id:"create-destination",level:2}],d={toc:c},u="wrapper";function p(t){let{components:e,...i}=t;return(0,o.kt)(u,(0,a.Z)({},d,i,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"aws-cloudwatch-event-destination"},"AWS CloudWatch Event Destination"),(0,o.kt)("hr",null),(0,o.kt)("admonition",{title:"TL;DR",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"To send ngrok events to Cloudwatch:"),(0,o.kt)("ol",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#obtain-cloudwatch-arn"},"Obtain CloudWatch log group ARN.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#create-event-subscription"},"Create Event Subscription.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"#create-destination"},"Create Event Destination.")))),(0,o.kt)("p",null,"This guide covers how to send ngrok events including network traffic logs into AWS CloudWatch.\nSome essential use-cases for ngrok events include providing a history of changes within an account, per request visibility for active monitoring/troubleshooting and security traffic inspection or SIEM usage."),(0,o.kt)("p",null,"By integrating ngrok with CloudWatch, you can:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Quickly identify application issues")," in real-time using ngrok request events using CloudWatch visibility."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Historically audit changes occurring within an account"),". Be able to historically audit changes within an account."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Profile usage of your service")," by using CloudWatch queries and analytic charts."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Identify security issues")," by using ngrok request events.")),(0,o.kt)("h2",{id:"obtain-cloudwatch-arn"},(0,o.kt)("strong",{parentName:"h2"},"Step 1"),": Obtain CloudWatch Log Group ARN"),(0,o.kt)("p",null,"For ngrok to successfully send events into CloudWatch we'll require a log group ARN. To either create or retrieve the ARN, reference the following link ",(0,o.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-logs-loggroup.html"},"AWS Log role documentation"),"."),(0,o.kt)("h2",{id:"create-event-subscription"},(0,o.kt)("strong",{parentName:"h2"},"Step 2"),": Create an Event Subscription"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Using a browser, go to the ",(0,o.kt)("a",{parentName:"p",href:"https://dashboard.ngrok.com"},"ngrok dashboard")," and navigate to ",(0,o.kt)("strong",{parentName:"p"},"Events")," on the left hand navigation and select ",(0,o.kt)("strong",{parentName:"p"},"Create Subscription"),"."),(0,o.kt)("p",{parentName:"li"},(0,o.kt)("img",{alt:"ngrok event subscription",src:n(65558).Z,width:"1772",height:"855"}))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Within the Event Subscription configuration, provide a description for the event and within the sources tab select ",(0,o.kt)("strong",{parentName:"p"},"Add Source")," to pick and choose which events you would like to send to CloudWatch."))),(0,o.kt)("p",null,"Once complete, select ",(0,o.kt)("strong",{parentName:"p"},"Add Event Sources")," to confirm your selections."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"ngrok event sources",src:n(59230).Z,width:"1783",height:"853"})),(0,o.kt)("h2",{id:"create-destination"},(0,o.kt)("strong",{parentName:"h2"},"Step 3"),": Create Event Destination"),(0,o.kt)("p",null,"To send the events to CloudWatch we'll need to assign an Event Destination to the Event Subscription."),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Within the Event Subscription configuration Destination Tab, select ",(0,o.kt)("strong",{parentName:"p"},"Add Destination."))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Choose AWS CloudWatch Logs as the target and fill in the correct information."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Log Group ARN")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"Description")," - Optional"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Create IAM Role")," - An IAM role is required to allow ngrok to stream logs into CloudWatch. Using the information provided by your preferred method of creation, either ",(0,o.kt)("strong",{parentName:"p"},"API")," or ",(0,o.kt)("strong",{parentName:"p"},"CLI Script"),", create the IAM role and provide the role ARN."))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"ngrok event destination",src:n(33945).Z,width:"1568",height:"1033"})),(0,o.kt)("ol",{start:4},(0,o.kt)("li",{parentName:"ol"},"Once all required inputs have values, select ",(0,o.kt)("strong",{parentName:"li"},"Send Test Event")," and you should be presented with a Success message. Select ",(0,o.kt)("strong",{parentName:"li"},"Done")," and the CloudWatch Event Destination setup is complete.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"ngrok event destination success",src:n(48858).Z,width:"505",height:"110"})))}p.isMDXComponent=!0},33945:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/event_destination-706a897acc3ffc4311ebad9430b5146b.png"},59230:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/event_sources-7fad52a03815d66861a7bfff6e875bac.png"},65558:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/event_sub-6e7dc222287d8719a8ad3404277cdafe.png"},48858:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/success-2eba03e75b07931cd60cda2683c5e83b.png"}}]);