"use strict";(self.webpackChunkngrok_doc=self.webpackChunkngrok_doc||[]).push([[14992],{52228:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>k,contentTitle:()=>s,default:()=>N,frontMatter:()=>p,metadata:()=>m,toc:()=>c});var n=r(51163),a=(r(59496),r(49613)),l=r(21062),i=r(93939),d=r(62304),o=r(35599),u=r(51393);const p={},s="Edge Route Circuit Breaker Module",m={unversionedId:"api/resources/edge-route-circuit-breaker-module",id:"api/resources/edge-route-circuit-breaker-module",title:"Edge Route Circuit Breaker Module",description:"---",source:"@site/docs/api/resources/edge-route-circuit-breaker-module.mdx",sourceDirName:"api/resources",slug:"/api/resources/edge-route-circuit-breaker-module",permalink:"/docs/api/resources/edge-route-circuit-breaker-module",draft:!1,editUrl:"https://github.com/ngrok/ngrok-docs/edit/main/docs/api/resources/edge-route-circuit-breaker-module.mdx",tags:[],version:"current",lastUpdatedBy:"Russ Savage",lastUpdatedAt:1691862991,formattedLastUpdatedAt:"Aug 12, 2023",frontMatter:{}},k={},c=[{value:"Replace HTTPS Edge Route Circuit Breaker Module",id:"replace-https-edge-route-circuit-breaker-module",level:2},{value:"Request",id:"request",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Response",id:"response",level:3},{value:"Fields",id:"fields",level:4},{value:"Get HTTPS Edge Route Circuit Breaker Module",id:"get-https-edge-route-circuit-breaker-module",level:2},{value:"Request",id:"request-1",level:3},{value:"Response",id:"response-1",level:3},{value:"Fields",id:"fields-1",level:4},{value:"Delete HTTPS Edge Route Circuit Breaker Module",id:"delete-https-edge-route-circuit-breaker-module",level:2},{value:"Request",id:"request-2",level:3},{value:"Response",id:"response-2",level:3}],g={toc:c},h="wrapper";function N(e){let{components:t,...r}=e;return(0,a.kt)(h,(0,n.Z)({},g,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"edge-route-circuit-breaker-module"},"Edge Route Circuit Breaker Module"),(0,a.kt)("hr",null),(0,a.kt)("h2",{id:"replace-https-edge-route-circuit-breaker-module"},"Replace HTTPS Edge Route Circuit Breaker Module"),(0,a.kt)("h3",{id:"request"},"Request"),(0,a.kt)("p",null,"PUT /edges/https/{edge_id}/routes/{id}/circuit_breaker"),(0,a.kt)(l.ZP,{mdxType:"EdgeRouteCircuitBreakerModuleReplaceRequest"}),(0,a.kt)("h4",{id:"parameters"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"\xa0"),(0,a.kt)("th",{parentName:"tr",align:null},"\xa0"),(0,a.kt)("th",{parentName:"tr",align:null},"\xa0"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"enabled")),(0,a.kt)("td",{parentName:"tr",align:null},"boolean"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"true")," if the module will be applied to traffic, ",(0,a.kt)("inlineCode",{parentName:"td"},"false")," to disable. default ",(0,a.kt)("inlineCode",{parentName:"td"},"true")," if unspecified")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"tripped_duration")),(0,a.kt)("td",{parentName:"tr",align:null},"uint32"),(0,a.kt)("td",{parentName:"tr",align:null},"Integer number of seconds after which the circuit is tripped to wait before re-evaluating upstream health")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"rolling_window")),(0,a.kt)("td",{parentName:"tr",align:null},"uint32"),(0,a.kt)("td",{parentName:"tr",align:null},"Integer number of seconds in the statistical rolling window that metrics are retained for.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"num_buckets")),(0,a.kt)("td",{parentName:"tr",align:null},"uint32"),(0,a.kt)("td",{parentName:"tr",align:null},"Integer number of buckets into which metrics are retained. Max 128.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"volume_threshold")),(0,a.kt)("td",{parentName:"tr",align:null},"uint32"),(0,a.kt)("td",{parentName:"tr",align:null},"Integer number of requests in a rolling window that will trip the circuit. Helpful if traffic volume is low.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"error_threshold_percentage")),(0,a.kt)("td",{parentName:"tr",align:null},"float64"),(0,a.kt)("td",{parentName:"tr",align:null},"Error threshold percentage should be between 0 - 1.0, not 0-100.0")))),(0,a.kt)("h3",{id:"response"},"Response"),(0,a.kt)("p",null,"Returns a 200 response on success"),(0,a.kt)(i.ZP,{mdxType:"EdgeRouteCircuitBreakerModuleReplaceResponse"}),(0,a.kt)("h4",{id:"fields"},"Fields"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"\xa0"),(0,a.kt)("th",{parentName:"tr",align:null},"\xa0"),(0,a.kt)("th",{parentName:"tr",align:null},"\xa0"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"enabled")),(0,a.kt)("td",{parentName:"tr",align:null},"boolean"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"true")," if the module will be applied to traffic, ",(0,a.kt)("inlineCode",{parentName:"td"},"false")," to disable. default ",(0,a.kt)("inlineCode",{parentName:"td"},"true")," if unspecified")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"tripped_duration")),(0,a.kt)("td",{parentName:"tr",align:null},"uint32"),(0,a.kt)("td",{parentName:"tr",align:null},"Integer number of seconds after which the circuit is tripped to wait before re-evaluating upstream health")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"rolling_window")),(0,a.kt)("td",{parentName:"tr",align:null},"uint32"),(0,a.kt)("td",{parentName:"tr",align:null},"Integer number of seconds in the statistical rolling window that metrics are retained for.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"num_buckets")),(0,a.kt)("td",{parentName:"tr",align:null},"uint32"),(0,a.kt)("td",{parentName:"tr",align:null},"Integer number of buckets into which metrics are retained. Max 128.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"volume_threshold")),(0,a.kt)("td",{parentName:"tr",align:null},"uint32"),(0,a.kt)("td",{parentName:"tr",align:null},"Integer number of requests in a rolling window that will trip the circuit. Helpful if traffic volume is low.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"error_threshold_percentage")),(0,a.kt)("td",{parentName:"tr",align:null},"float64"),(0,a.kt)("td",{parentName:"tr",align:null},"Error threshold percentage should be between 0 - 1.0, not 0-100.0")))),(0,a.kt)("h2",{id:"get-https-edge-route-circuit-breaker-module"},"Get HTTPS Edge Route Circuit Breaker Module"),(0,a.kt)("h3",{id:"request-1"},"Request"),(0,a.kt)("p",null,"GET /edges/https/{edge_id}/routes/{id}/circuit_breaker"),(0,a.kt)(d.ZP,{mdxType:"EdgeRouteCircuitBreakerModuleGetRequest"}),(0,a.kt)("h3",{id:"response-1"},"Response"),(0,a.kt)("p",null,"Returns a 200 response on success"),(0,a.kt)(o.ZP,{mdxType:"EdgeRouteCircuitBreakerModuleGetResponse"}),(0,a.kt)("h4",{id:"fields-1"},"Fields"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"\xa0"),(0,a.kt)("th",{parentName:"tr",align:null},"\xa0"),(0,a.kt)("th",{parentName:"tr",align:null},"\xa0"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"enabled")),(0,a.kt)("td",{parentName:"tr",align:null},"boolean"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"true")," if the module will be applied to traffic, ",(0,a.kt)("inlineCode",{parentName:"td"},"false")," to disable. default ",(0,a.kt)("inlineCode",{parentName:"td"},"true")," if unspecified")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"tripped_duration")),(0,a.kt)("td",{parentName:"tr",align:null},"uint32"),(0,a.kt)("td",{parentName:"tr",align:null},"Integer number of seconds after which the circuit is tripped to wait before re-evaluating upstream health")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"rolling_window")),(0,a.kt)("td",{parentName:"tr",align:null},"uint32"),(0,a.kt)("td",{parentName:"tr",align:null},"Integer number of seconds in the statistical rolling window that metrics are retained for.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"num_buckets")),(0,a.kt)("td",{parentName:"tr",align:null},"uint32"),(0,a.kt)("td",{parentName:"tr",align:null},"Integer number of buckets into which metrics are retained. Max 128.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"volume_threshold")),(0,a.kt)("td",{parentName:"tr",align:null},"uint32"),(0,a.kt)("td",{parentName:"tr",align:null},"Integer number of requests in a rolling window that will trip the circuit. Helpful if traffic volume is low.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("inlineCode",{parentName:"td"},"error_threshold_percentage")),(0,a.kt)("td",{parentName:"tr",align:null},"float64"),(0,a.kt)("td",{parentName:"tr",align:null},"Error threshold percentage should be between 0 - 1.0, not 0-100.0")))),(0,a.kt)("h2",{id:"delete-https-edge-route-circuit-breaker-module"},"Delete HTTPS Edge Route Circuit Breaker Module"),(0,a.kt)("h3",{id:"request-2"},"Request"),(0,a.kt)("p",null,"DELETE /edges/https/{edge_id}/routes/{id}/circuit_breaker"),(0,a.kt)(u.ZP,{mdxType:"EdgeRouteCircuitBreakerModuleDeleteRequest"}),(0,a.kt)("h3",{id:"response-2"},"Response"),(0,a.kt)("p",null,"Returns a 204 response with no body on success"))}N.isMDXComponent=!0},51393:(e,t,r)=>{r.d(t,{ZP:()=>d});var n=r(51163),a=(r(59496),r(49613));const l={toc:[{value:"Example Request",id:"example-request",level:4}]},i="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(i,(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h4",{id:"example-request"},"Example Request"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'curl \\\n-X DELETE \\\n-H "Authorization: Bearer {API_KEY}" \\\n-H "Ngrok-Version: 2" \\\nhttps://api.ngrok.com/edges/https/edghts_2TMGJIJ4Yu3fGedHlq8UqeYCsW0/routes/edghtsrt_2TMGJIs0QpNPOilidBTOa9lzAcK/circuit_breaker\n')))}d.isMDXComponent=!0},62304:(e,t,r)=>{r.d(t,{ZP:()=>d});var n=r(51163),a=(r(59496),r(49613));const l={toc:[{value:"Example Request",id:"example-request",level:4}]},i="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(i,(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h4",{id:"example-request"},"Example Request"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'curl \\\n-X GET \\\n-H "Authorization: Bearer {API_KEY}" \\\n-H "Ngrok-Version: 2" \\\nhttps://api.ngrok.com/edges/https/edghts_2TMGJIJ4Yu3fGedHlq8UqeYCsW0/routes/edghtsrt_2TMGJIs0QpNPOilidBTOa9lzAcK/circuit_breaker\n')))}d.isMDXComponent=!0},35599:(e,t,r)=>{r.d(t,{ZP:()=>d});var n=r(51163),a=(r(59496),r(49613));const l={toc:[{value:"Example Response",id:"example-response",level:4}]},i="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(i,(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h4",{id:"example-response"},"Example Response"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "enabled": true,\n    "tripped_duration": 120,\n    "rolling_window": 300,\n    "num_buckets": 5,\n    "volume_threshold": 20,\n    "error_threshold_percentage": 0.2\n}\n')))}d.isMDXComponent=!0},21062:(e,t,r)=>{r.d(t,{ZP:()=>d});var n=r(51163),a=(r(59496),r(49613));const l={toc:[{value:"Example Request",id:"example-request",level:4}]},i="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(i,(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h4",{id:"example-request"},"Example Request"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'curl \\\n-X PUT \\\n-H "Authorization: Bearer {API_KEY}" \\\n-H "Content-Type: application/json" \\\n-H "Ngrok-Version: 2" \\\n-d \'{"enabled":true,"tripped_duration":120,"rolling_window":300,"num_buckets":5,"volume_threshold":20,"error_threshold_percentage":0.2}\' \\\nhttps://api.ngrok.com/edges/https/edghts_2TMGJIJ4Yu3fGedHlq8UqeYCsW0/routes/edghtsrt_2TMGJIs0QpNPOilidBTOa9lzAcK/circuit_breaker\n')))}d.isMDXComponent=!0},93939:(e,t,r)=>{r.d(t,{ZP:()=>d});var n=r(51163),a=(r(59496),r(49613));const l={toc:[{value:"Example Response",id:"example-response",level:4}]},i="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(i,(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h4",{id:"example-response"},"Example Response"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "enabled": true,\n    "tripped_duration": 120,\n    "rolling_window": 300,\n    "num_buckets": 5,\n    "volume_threshold": 20,\n    "error_threshold_percentage": 0.2\n}\n')))}d.isMDXComponent=!0}}]);