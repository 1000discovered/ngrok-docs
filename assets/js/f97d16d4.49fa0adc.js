"use strict";(self.webpackChunkngrok_doc=self.webpackChunkngrok_doc||[]).push([[38003],{47450:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>k,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var a=n(51163),i=(n(59496),n(49613));const r={description:"Use miniOrange SAML to secure access to ngrok tunnels"},o="miniOrange SSO (SAML)",l={unversionedId:"integrations/miniorange/sso-saml",id:"integrations/miniorange/sso-saml",title:"miniOrange SSO (SAML)",description:"Use miniOrange SAML to secure access to ngrok tunnels",source:"@site/docs/integrations/miniorange/sso-saml.md",sourceDirName:"integrations/miniorange",slug:"/integrations/miniorange/sso-saml",permalink:"/docs/integrations/miniorange/sso-saml",draft:!1,editUrl:"https://github.com/ngrok/ngrok-docs/edit/main/docs/integrations/miniorange/sso-saml.md",tags:[],version:"current",lastUpdatedBy:"Russ Savage",lastUpdatedAt:1693002758,formattedLastUpdatedAt:"Aug 25, 2023",frontMatter:{description:"Use miniOrange SAML to secure access to ngrok tunnels"},sidebar:"docs",previous:{title:"miniOrange SSO (OpenID Connect)",permalink:"/docs/integrations/miniorange/sso-oidc"},next:{title:"Modern Treasury",permalink:"/docs/integrations/modern-treasury/"}},p={},s=[{value:"Requirements",id:"requirements",level:2},{value:"Configuration Steps",id:"configuration-steps",level:2},{value:"<strong>Step 1</strong>: Configure miniOrange",id:"configure-miniorange",level:3},{value:"<strong>Step 2</strong>: Download the IdP metadata",id:"idp-metadata",level:3},{value:"<strong>Step 3</strong>: Configure ngrok",id:"configure-ngrok",level:3},{value:"<strong>Step 4</strong>: Download the SP metadata",id:"sp-metadata",level:3},{value:"<strong>Step 5</strong>: Link miniOrange with ngrok",id:"sp-metadata",level:3},{value:"<strong>Step 6</strong>: Start a Tunnel",id:"start-tunnel",level:3},{value:"Grant access to miniOrange users",id:"users",level:2},{value:"Test the integration",id:"test-sso",level:2}],m={toc:s},g="wrapper";function k(e){let{components:t,...r}=e;return(0,i.kt)(g,(0,a.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"miniorange-sso-saml"},"miniOrange SSO (SAML)"),(0,i.kt)("hr",null),(0,i.kt)("admonition",{title:"TL;DR",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"To secure access to ngrok with miniOrange Single Sign-On using SAML:"),(0,i.kt)("ol",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#configure-miniOrange"},"Configure miniOrange SSO")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#configure-ngrok"},"Configure ngrok")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("a",{parentName:"li",href:"#test-sso"},"Test access to ngrok with miniOrange SSO")))),(0,i.kt)("p",null,"This article details how to configure miniOrange as the primary Identity Provider for ngrok tunnels.\nBy integrating miniOrange SSO with ngrok, you can:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Restrict access to ngrok tunnels")," only to users authenticated via miniOrange."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Use miniOrange security policies and MFA authenticators"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Use miniOrange's Dashboard to facilitate access to ngrok apps"),".")),(0,i.kt)("h2",{id:"requirements"},"Requirements"),(0,i.kt)("p",null,"To configure ngrok tunnels with miniOrange, you must have:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"an miniOrange account with administrative rights to create apps."),(0,i.kt)("li",{parentName:"ul"},"an ",(0,i.kt)("a",{parentName:"li",href:"https://ngrok.com/pricing"},"ngrok Enterprise Account")," with an authtoken or admin access to configure edges with SAML.")),(0,i.kt)("h2",{id:"configuration-steps"},"Configuration Steps"),(0,i.kt)("p",null,"To integrate ngrok with miniOrange SSO, you will need to:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Configure miniOrange with the ngrok app."),(0,i.kt)("li",{parentName:"ol"},"Configure ngrok with the SSO settings provided by miniOrange.")),(0,i.kt)("h3",{id:"configure-miniorange"},(0,i.kt)("strong",{parentName:"h3"},"Step 1"),": Configure miniOrange"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Access ",(0,i.kt)("a",{parentName:"p",href:"https://www.miniorange.com/"},"miniOrange"),", and sign in using your miniOrange administrator account.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the ",(0,i.kt)("strong",{parentName:"p"},"Dashboard")," page, click ",(0,i.kt)("strong",{parentName:"p"},"Apps")," on the left menu, click ",(0,i.kt)("strong",{parentName:"p"},"Add Application"),", click the ",(0,i.kt)("strong",{parentName:"p"},"SAML/WS-Fed")," tile, and then click the ",(0,i.kt)("strong",{parentName:"p"},"Custom SAML App")," tile.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the ",(0,i.kt)("strong",{parentName:"p"},"Add App")," page, enter ",(0,i.kt)("inlineCode",{parentName:"p"},"ngrok SAML")," in the ",(0,i.kt)("strong",{parentName:"p"},"Custom Application Name")," field,")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click the ",(0,i.kt)("strong",{parentName:"p"},"SSO")," tab, enter temporary values (i.e., ",(0,i.kt)("inlineCode",{parentName:"p"},"https://temporary"),") in both the ",(0,i.kt)("strong",{parentName:"p"},"SP Entity ID or Issuer")," and the ",(0,i.kt)("strong",{parentName:"p"},"ACS URL")," fields, and then click ",(0,i.kt)("strong",{parentName:"p"},"Save"),"."))),(0,i.kt)("h3",{id:"idp-metadata"},(0,i.kt)("strong",{parentName:"h3"},"Step 2"),": Download the IdP metadata"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the ",(0,i.kt)("strong",{parentName:"p"},"View Apps")," page, click ",(0,i.kt)("strong",{parentName:"p"},"Select")," in the ",(0,i.kt)("strong",{parentName:"p"},"ngrok")," app line, and then click ",(0,i.kt)("strong",{parentName:"p"},"Metadata"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the ",(0,i.kt)("strong",{parentName:"p"},"View IDP Metadata")," page, click ",(0,i.kt)("strong",{parentName:"p"},"Show Metadata Details"),", click ",(0,i.kt)("strong",{parentName:"p"},"Download Metadata"),", and then save the XML file on your desktop."))),(0,i.kt)("h3",{id:"configure-ngrok"},(0,i.kt)("strong",{parentName:"h3"},"Step 3"),": Configure ngrok"),(0,i.kt)("p",null,"To configure an edge with miniOrange:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Access the ",(0,i.kt)("a",{parentName:"p",href:"https://dashboard.ngrok.com/"},"ngrok Dashboard")," and sign in using your ngrok account.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the left menu, click ",(0,i.kt)("strong",{parentName:"p"},"Cloud Edge")," and then click ",(0,i.kt)("strong",{parentName:"p"},"Edges"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"If you don't have an edge already set to add miniOrange SSO, create a test edge:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Click ",(0,i.kt)("strong",{parentName:"li"},"+ New Edge"),"."),(0,i.kt)("li",{parentName:"ul"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Create HTTPS Edge"),"."),(0,i.kt)("li",{parentName:"ul"},"Click the ",(0,i.kt)("strong",{parentName:"li"},"pencil icon"),' next to "no description", enter ',(0,i.kt)("inlineCode",{parentName:"li"},"Edge with miniOrange SSO SAML")," as the edge name, and click ",(0,i.kt)("strong",{parentName:"li"},"Save"),"."))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the edge settings menu, click ",(0,i.kt)("strong",{parentName:"p"},"SAML"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the ",(0,i.kt)("strong",{parentName:"p"},"SAML")," page, click ",(0,i.kt)("strong",{parentName:"p"},"Begin setup"),", click ",(0,i.kt)("strong",{parentName:"p"},"Upload XML"),", and then open the XML metadata file you downloaded from miniOrange (See ",(0,i.kt)("a",{parentName:"p",href:"#idp-metadata"},"Download the IdP metadata"),").\n",(0,i.kt)("img",{alt:"miniOrange config in ngrok",src:n(40523).Z,width:"1137",height:"453"}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click ",(0,i.kt)("strong",{parentName:"p"},"Save")," at the top."))),(0,i.kt)("h3",{id:"sp-metadata"},(0,i.kt)("strong",{parentName:"h3"},"Step 4"),": Download the SP metadata"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"On the ",(0,i.kt)("strong",{parentName:"li"},"SAML")," page of your ",(0,i.kt)("a",{parentName:"li",href:"https://dashboard.ngrok.com/cloud-edge/edges"},"ngrok edge"),", click the three dots close to the ",(0,i.kt)("strong",{parentName:"li"},"SP Metadata")," field, click ",(0,i.kt)("strong",{parentName:"li"},"Download XML File"),", and then save the XML file on your desktop.")),(0,i.kt)("h3",{id:"sp-metadata"},(0,i.kt)("strong",{parentName:"h3"},"Step 5"),": Link miniOrange with ngrok"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the ",(0,i.kt)("a",{parentName:"p",href:"https://login.xecurify.com/moas/admin/customer/home"},"miniOrange Dashboard"),", click ",(0,i.kt)("strong",{parentName:"p"},"Apps")," on the left menu, click ",(0,i.kt)("strong",{parentName:"p"},"Select")," in the ",(0,i.kt)("strong",{parentName:"p"},"ngrok SAML")," app line, and then click ",(0,i.kt)("strong",{parentName:"p"},"Edit"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the ",(0,i.kt)("strong",{parentName:"p"},"Edit Application")," page, click ",(0,i.kt)("strong",{parentName:"p"},"Import SP Metadata"),", click ",(0,i.kt)("strong",{parentName:"p"},"File"),", open the XML metadata file you downloaded from ngrok (See ",(0,i.kt)("a",{parentName:"p",href:"#sp-metadata"},"Download the SP metadata"),"), and then click ",(0,i.kt)("strong",{parentName:"p"},"Import"),".\n",(0,i.kt)("img",{alt:"miniOrange config in ngrok",src:n(53780).Z,width:"1132",height:"412"}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the ",(0,i.kt)("strong",{parentName:"p"},"Edit Application")," page, click ",(0,i.kt)("strong",{parentName:"p"},"Save"),"."))),(0,i.kt)("h3",{id:"start-tunnel"},(0,i.kt)("strong",{parentName:"h3"},"Step 6"),": Start a Tunnel"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Access the ",(0,i.kt)("a",{parentName:"li",href:"https://dashboard.ngrok.com/cloud-edge/edges"},"ngrok edges page"),", click your edge, and then click ",(0,i.kt)("strong",{parentName:"li"},"Start a tunnel"),".")),(0,i.kt)("admonition",{title:"Note",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"For this step, we assume you have an app running locally (i.e. on localhost:3000) with the ngrok client installed.")),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click the ",(0,i.kt)("strong",{parentName:"p"},"copy icon")," next to the tunnel command.\n",(0,i.kt)("img",{alt:"tunnel config",src:n(21917).Z,width:"474",height:"188"}))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Launch a tunnel:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Launch a terminal."),(0,i.kt)("li",{parentName:"ul"},"Paste the command but replace ",(0,i.kt)("inlineCode",{parentName:"li"},"http://localhost:80")," with your localhost app address (i.e., ",(0,i.kt)("inlineCode",{parentName:"li"},"http://localhost:3000"),")."),(0,i.kt)("li",{parentName:"ul"},"Click ",(0,i.kt)("strong",{parentName:"li"},"Enter")," and an ngrok tunnel associated with your edge configuration will launch."))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"To confirm that the tunnel is connected to your edge:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Return to the ngrok dashboard"),(0,i.kt)("li",{parentName:"ul"},"Close the ",(0,i.kt)("strong",{parentName:"li"},"Start a tunnel")," and the ",(0,i.kt)("strong",{parentName:"li"},"Tunnel group")," tabs"),(0,i.kt)("li",{parentName:"ul"},"Refresh the test edge page. Under traffic, You will see the message ",(0,i.kt)("em",{parentName:"li"},"You have 1 tunnel online. Start additional tunnels to begin load balancing."),(0,i.kt)("img",{alt:"tunnel confirmed",src:n(77346).Z,width:"499",height:"119"}))),(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"In the test edge, copy the ",(0,i.kt)("strong",{parentName:"li"},"endpoint URL"),". (You use this URL to test the miniOrange Authentication)\n",(0,i.kt)("img",{alt:"tunnel url",src:n(54016).Z,width:"1132",height:"377"}))))),(0,i.kt)("h2",{id:"users"},"Grant access to miniOrange users"),(0,i.kt)("p",null,"miniOrange allows its users to access SAML-integrated apps. To create a user follow the instructions below:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the left menu of the ",(0,i.kt)("a",{parentName:"p",href:"https://login.xecurify.com/moas/admin/customer/home"},"miniOrange Dashboard"),", click ",(0,i.kt)("strong",{parentName:"p"},"Users")," and then click ",(0,i.kt)("strong",{parentName:"p"},"User List"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the ",(0,i.kt)("strong",{parentName:"p"},"Users")," page, click the ",(0,i.kt)("strong",{parentName:"p"},"Add User"),", enter values for the ",(0,i.kt)("strong",{parentName:"p"},"Email"),", ",(0,i.kt)("strong",{parentName:"p"},"Username"),", ",(0,i.kt)("strong",{parentName:"p"},"First Name"),", ",(0,i.kt)("strong",{parentName:"p"},"Last Name"),", and ",(0,i.kt)("strong",{parentName:"p"},"Password")," field, and then click ",(0,i.kt)("strong",{parentName:"p"},"Create User"),"."))),(0,i.kt)("h2",{id:"test-sso"},"Test the integration"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In your browser, launch an incognito window with the ",(0,i.kt)("strong",{parentName:"p"},"Endpoints")," URL of your edge.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Access your ngrok tunnel using the copied endpoint URL (i.e., ",(0,i.kt)("inlineCode",{parentName:"p"},"https://miniorange-sso-test.ngrok.io"),").")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"You should be prompted to log in with your miniOrange credentials.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"After logging in, you should be able to see your web app."))))}k.isMDXComponent=!0},21917:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/miniorange-2-e47d25ef789523cf0d514e12a527e533.png"},77346:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/miniorange-3-bf6677abb9534bedcf2b58fc0a23998a.png"},54016:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/miniorange-4-1106a1ba959cf6e91c648121e78c342f.png"},40523:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/miniorange-5-16dd168ee3a7e304a13ba69cc20949b2.png"},53780:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/miniorange-6-1645532ea62fe50e835f22fdb4f68afd.png"}}]);