"use strict";(self.webpackChunkngrok_doc=self.webpackChunkngrok_doc||[]).push([[85553],{68567:(e,s,a)=>{a.r(s),a.d(s,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>n,metadata:()=>r,toc:()=>l});var t=a(51163),i=(a(59496),a(49613));const n={sidebar_position:6},o="App Users and Sessions",r={unversionedId:"cloud-edge/app-users",id:"cloud-edge/app-users",title:"App Users and Sessions",description:"---",source:"@site/docs/cloud-edge/app-users.md",sourceDirName:"cloud-edge",slug:"/cloud-edge/app-users",permalink:"/docs/cloud-edge/app-users",draft:!1,editUrl:"https://github.com/ngrok/ngrok-docs/edit/main/docs/cloud-edge/app-users.md",tags:[],version:"current",lastUpdatedBy:"Russ Savage",lastUpdatedAt:1693002758,formattedLastUpdatedAt:"Aug 25, 2023",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"docs",previous:{title:"Webhook Verification",permalink:"/docs/cloud-edge/modules/webhook-verification"},next:{title:"Observability",permalink:"/docs/cloud-edge/observability"}},p={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Managing Sessions from the Dashboard",id:"managing-sessions-from-the-dashboard",level:2},{value:"View Sessions",id:"view-sessions",level:3},{value:"View Session Details",id:"view-session-details",level:3},{value:"Revoke Sessions",id:"revoke-sessions",level:3},{value:"Managing Sessions from the API",id:"managing-sessions-from-the-api",level:2},{value:"To list user sessions",id:"to-list-user-sessions",level:3},{value:"To get session details",id:"to-get-session-details",level:3},{value:"To revoke a session",id:"to-revoke-a-session",level:3}],d={toc:l},u="wrapper";function c(e){let{components:s,...n}=e;return(0,i.kt)(u,(0,t.Z)({},d,n,{components:s,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"app-users-and-sessions"},"App Users and Sessions"),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"App Users and Sessions gives you live visibility of federated user sessions with the ability to terminate sessions instantly:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Track active OAuth, OIDC, and SAML user sessions in your tunnels"),(0,i.kt)("li",{parentName:"ul"},"Examine the session context including user, device, identity provider, and network details"),(0,i.kt)("li",{parentName:"ul"},"Delete sessions via the admin interface (Dashboard) and programmatically (REST API)")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"App Users and Sessions: Conceptual Architecture",src:a(25122).Z,width:"1600",height:"830"})),(0,i.kt)("p",null,"App Users and Sessions is available via the ",(0,i.kt)("a",{parentName:"p",href:"https://dashboard.ngrok.com/cloud-edge/app-users"},"ngrok dashboard")," and the ",(0,i.kt)("a",{parentName:"p",href:"/docs/api/resources/application-users"},"App Users")," and ",(0,i.kt)("a",{parentName:"p",href:"/docs/api/resources/application-sessions"},"App Sessions")," APIs."),(0,i.kt)("h2",{id:"managing-sessions-from-the-dashboard"},"Managing Sessions from the Dashboard"),(0,i.kt)("h3",{id:"view-sessions"},"View Sessions"),(0,i.kt)("p",null,"To view App users and sessions:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"In the ",(0,i.kt)("a",{parentName:"p",href:"https://dashboard.ngrok.com"},"ngrok Dashboard"),", navigate to ",(0,i.kt)("strong",{parentName:"p"},"Cloud Edge")," > ",(0,i.kt)("strong",{parentName:"p"},"App Users")," (or access the ",(0,i.kt)("a",{parentName:"p",href:"https://dashboard.ngrok.com/cloud-edge/app-users"},"App Users")," page directly)"),(0,i.kt)("p",{parentName:"li"},"The users are displayed in the table.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Alternatively, use the search bar to filter users by identity provider, User, and ID."))),(0,i.kt)("h3",{id:"view-session-details"},"View Session Details"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Access the ",(0,i.kt)("a",{parentName:"p",href:"https://dashboard.ngrok.com/cloud-edge/app-users"},"App Users")," page.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"On the App Users table, select a user:"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"ngrok displays the table with the user identity overview, including the provider who authenticated your user, basic information about the user, and the identity provider used for login"),(0,i.kt)("li",{parentName:"ul"},"ngrok also displays a list of endpoints the user has accessed."))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click on an endpoint that the user has accessed."),(0,i.kt)("p",{parentName:"li"},"ngrok displays session information captured while the user was accessing the endpoint. That includes the user device, IP, browser, agent, country, and geo coordinates based on IP"))),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Pasting the coordinates into your favorite mapping service will give you more detailed information about the IP geolocation.")),(0,i.kt)("h3",{id:"revoke-sessions"},"Revoke Sessions"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Access the ",(0,i.kt)("a",{parentName:"p",href:"https://dashboard.ngrok.com/cloud-edge/app-users"},"App Users")," page and locate your user.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Click the trash can next to the user and then confirm the deletion."),(0,i.kt)("p",{parentName:"li"},"The user is deleted and all sessions are invalidated immediately.\nUsers can reinitiate sessions by logging in again via their Authentication provider."))),(0,i.kt)("h2",{id:"managing-sessions-from-the-api"},"Managing Sessions from the API"),(0,i.kt)("p",null,"You can also programmatically investigate and revoke user sessions using the ",(0,i.kt)("a",{parentName:"p",href:"/docs/api/resources/application-users"},"App Users")," and ",(0,i.kt)("a",{parentName:"p",href:"/docs/api/resources/application-sessions"},"App Sessions")," APIs. APIs are the recommended approach when you want to drive session monitoring and deletion from third-party apps such as security management solutions and identity workflows."),(0,i.kt)("p",null,"Examples:"),(0,i.kt)("h3",{id:"to-list-user-sessions"},"To list user sessions"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"curl --location --request \\\nGET 'https://api.ngrok.com/app/users' \\\n--header 'Ngrok-Version: 2' \\\n--header 'Authorization: Bearer {ngrok api token}'\n")),(0,i.kt)("h3",{id:"to-get-session-details"},"To get session details"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"curl --location --request \\\nGET 'https://api.ngrok.com/app/users/{session-id}' \\\n--header 'Ngrok-Version: 2' \\\n--header 'Authorization: Bearer {ngrok api token}'\n")),(0,i.kt)("h3",{id:"to-revoke-a-session"},"To revoke a session"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"curl --location --request \\\nDELETE 'https://api.ngrok.com/app/users/{session-id}' \\\n--header 'Ngrok-Version: 2' \\\n--header 'Authorization: Bearer {ngrok api token}'\n")))}c.isMDXComponent=!0},25122:(e,s,a)=>{a.d(s,{Z:()=>t});const t=a.p+"assets/images/app_user_session_diagram-4549c45a70975ce778fa167a4cb0bc58.png"}}]);