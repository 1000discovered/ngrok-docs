import { ExampleHTTP } from "/examples/actions/custom-response.mdx";
import VariableInterpolation from "/src/components/VariableInterpolation";
import HttpHeaderTemplates from "./../../_http_header_templates.mdx";

# Custom Response

## Overview

The Custom Response policy action returns a hard-coded response back to the client that made a request to your endpoint.

## Example

<ExampleHTTP />

## Behavior

When executed in the `on_http_request` phase, this action bypasses the upstream server and immediately returns to the caller with
the configured response. When executed in the `on_http_response` phase, the response from the upstream server is overwritten with the
configured response.

If this action is executed, no further actions in the traffic policy will be executed.

## Reference

### Supported Phases

- `on_http_request`
- `on_http_response`

### Configuration

| Type              |
| ----------------- |
| `custom-response` |

| Parameter     | &nbsp;                    | Description                                                                                                                                        |
| ------------- | ------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| `status_code` | int                       | The status code of the response.                                                                                                                   |
| `content`     | string                    | The body of the response.                                                                                                                          |
| `headers`     | Map&lt;string, string&gt; | Headers to be added to the response. If `content-type` is not included in `headers`, this action will attempt to infer the correct `content-type`. |

<VariableInterpolation type="custom-response" />
### Variables
<HttpHeaderTemplates />
