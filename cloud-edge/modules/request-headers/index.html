<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-cloud-edge/modules/request-headers">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Request Headers | ngrok documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ngrok.com/docs/img/ngrok-docs-opengraph.png"><meta data-rh="true" name="twitter:image" content="https://ngrok.com/docs/img/ngrok-docs-opengraph.png"><meta data-rh="true" property="og:url" content="https://ngrok.com/docs/cloud-edge/modules/request-headers/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="ngrok, documentation, api, errors, reference, getting started, tutorials"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Request Headers | ngrok documentation"><meta data-rh="true" name="description" content="---"><meta data-rh="true" property="og:description" content="---"><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ngrok.com/docs/cloud-edge/modules/request-headers/"><link data-rh="true" rel="alternate" href="https://ngrok.com/docs/cloud-edge/modules/request-headers/" hreflang="en"><link data-rh="true" rel="alternate" href="https://ngrok.com/docs/cloud-edge/modules/request-headers/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://SPPRT3GDNI-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-P4F37ZW",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>


<link rel="search" type="application/opensearchdescription+xml" title="ngrok documentation" href="/docs/opensearch.xml">

<script id="hs-script-loader" src="//js.hs-scripts.com/21124867.js"></script>

<meta name="ketch-tag-id" content="ngrok_ketch_tag">
<script src="/docs/scripts/ketch.js"></script>
<script src="/docs/scripts/fix-redirect.js" async></script>
<script src="/docs/scripts/anchor-scroll-to.js" async></script>
<script src="https://tag.clearbitscripts.com/v1/pk_1caf9e9fb3222466245fb17c8f807837/tags.js"></script><link rel="stylesheet" href="/docs/assets/css/styles.a67f50ae.css">
<link rel="preload" href="/docs/assets/js/runtime~main.c806facc.js" as="script">
<link rel="preload" href="/docs/assets/js/main.c621065b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P4F37ZW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_eZaj" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://ngrok.com" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/docs/img/ngrok-black.svg" alt="ngrok" class="themedImage_LIaj themedImage--light_W3vF" height="100%" width="100%"><img src="/docs/img/ngrok-white.svg" alt="ngrok" class="themedImage_LIaj themedImage--dark_FEw2" height="100%" width="100%"></div></a><a href="https://ngrok.com/product" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Product</a><a href="https://ngrok.com/solutions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Solutions</a><a href="https://ngrok.com/customers" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Customers</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://ngrok.com/pricing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Pricing</a><a href="https://ngrok.com/download" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Download</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_p8qa"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://dashboard.ngrok.com/login" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link dev-portal-signup dev-portal-link">Login</a><a href="https://ngrok.com/signup" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link dev-portal-signup dev-portal-link">Sign Up</a><div class="toggle_J__a colorModeToggle_hH7X"><button class="clean-btn toggleButton_llrr toggleButtonDisabled_AdEH" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_WgBh"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_pqLO"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_dZnh docsWrapper_tv8J"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_vvYB" type="button"></button><div class="docPage_qwct"><aside class="theme-doc-sidebar-container docSidebarContainer_HskQ"><div class="sidebarViewport_m_kQ"><div class="sidebar_UaiZ"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_oJA0"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/getting-started/">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/guides/">Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/cloud-edge/">Cloud Edge</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cloud Edge&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/">What is ngrok Cloud Edge?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/endpoints/">Endpoints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/zero-knowledge-tls/">Zero-Knowledge TLS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/cloud-edge/edges/">Edges</a><button aria-label="Toggle the collapsible sidebar category &#x27;Edges&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/cloud-edge/modules/">Modules</a><button aria-label="Toggle the collapsible sidebar category &#x27;Modules&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/modules/circuit-breaker/">Circuit Breaker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/modules/compression/">Compression</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/modules/ip-restrictions/">IP Restrictions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/modules/mutual-tls/">Mutual TLS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/modules/oauth/">OAuth</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/modules/openid-connect/">OpenID Connect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/cloud-edge/modules/request-headers/">Request Headers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/modules/response-headers/">Response Headers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/modules/saml/">SAML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/modules/tls-termination/">TLS Termination</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/modules/user-agent-filter/">User Agent Filter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/modules/webhook-verification/">Webhook Verification</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/app-users/">App Users and Sessions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/observability/">Observability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/pops/">Global Infrastructure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cloud-edge/ip-policies/">IP Policies and Restrictions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/secure-tunnels/">Secure Tunnels</a><button aria-label="Toggle the collapsible sidebar category &#x27;Secure Tunnels&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/events/">Events</a><button aria-label="Toggle the collapsible sidebar category &#x27;Events&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/api/">API</a><button aria-label="Toggle the collapsible sidebar category &#x27;API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/user-management/">User Management</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/errors/">Errors</a><button aria-label="Toggle the collapsible sidebar category &#x27;Errors&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/integrations/">Integrations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/faq/">FAQ</a></li></ul></nav></div></div></aside><main class="docMainContainer_IGhh"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_cgjL"><div class="docItemContainer_ctEf"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_gJ6t" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_ZXin"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/cloud-edge/"><span itemprop="name">Cloud Edge</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/cloud-edge/modules/"><span itemprop="name">Modules</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Request Headers</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_THpG theme-doc-toc-mobile tocMobile_ge99"><button type="button" class="clean-btn tocCollapsibleButton_qaEN">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Request Headers</h1><hr><h2 class="anchor anchorWithStickyNavbar_XBoj" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2><p>This module adds and removes headers from HTTP requests before they are sent to
upstream applications. This is useful for providing additional data to upstream
applications about the behavior of the ngrok edge.</p><p>Changes made to request headers will not be visible to other modules; they will
only be seen by your upstream server.</p><p>You may <a href="#variable-interpolation">interpolate variables into header values</a> to
make them dynamic.</p><h2 class="anchor anchorWithStickyNavbar_XBoj" id="quickstart">Quickstart<a href="#quickstart" class="hash-link" aria-label="Direct link to Quickstart" title="Direct link to Quickstart">​</a></h2><h3 class="anchor anchorWithStickyNavbar_XBoj" id="agent-cli">Agent CLI<a href="#agent-cli" class="hash-link" aria-label="Direct link to Agent CLI" title="Direct link to Agent CLI">​</a></h3><h6></h6><div class="language-bash codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-bash codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token plain">ngrok http </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --request-header-add</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;is-ngrok: 1&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --request-header-add</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;country: ${.ngrok.geo.country_code}&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --request-header-remove</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;referrer&#x27;</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_XBoj" id="agent-configuration-file">Agent Configuration File<a href="#agent-configuration-file" class="hash-link" aria-label="Direct link to Agent Configuration File" title="Direct link to Agent Configuration File">​</a></h3><div class="language-yaml codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-yaml codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">tunnels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">example</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">proto</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">addr</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">request_headers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">add</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;is-ngrok: 1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;country: ${.ngrok.geo.country_code}&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">remove</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;referrer&quot;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_XBoj" id="ssh">SSH<a href="#ssh" class="hash-link" aria-label="Direct link to SSH" title="Direct link to SSH">​</a></h3><div class="language-bash codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-bash codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ssh</span><span class="token plain"> -R </span><span class="token number" style="color:#36acaa">443</span><span class="token plain">:localhost:80 connect.ngrok-agent.com http </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --request-header-add</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;is-ngrok: 1&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --request-header-add</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;country: ${.ngrok.geo.country_code}&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --request-header-remove</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;referrer&#x27;</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_XBoj" id="go-sdk">Go SDK<a href="#go-sdk" class="hash-link" aria-label="Direct link to Go SDK" title="Direct link to Go SDK">​</a></h3><div class="language-go codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-go codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;context&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;net&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;golang.ngrok.com/ngrok&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;golang.ngrok.com/ngrok/config&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">listenRequestHeaders</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> net</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Listener </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    listener</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">_</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> ngrok</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">HTTPEndpoint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithRequestHeader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;is-ngrok&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithRequestHeader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;country&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${.ngrok.geo.country_code}&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            config</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithRemoveRequestHeader</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;referrer&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ngrok</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">WithAuthtokenFromEnv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> listener</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_XBoj" id="rust-sdk">Rust SDK<a href="#rust-sdk" class="hash-link" aria-label="Direct link to Rust SDK" title="Direct link to Rust SDK">​</a></h3><div class="language-rust codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-rust codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">use</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">ngrok</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token namespace" style="opacity:0.7">prelude</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">start_tunnel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">anyhow</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token class-name">Result</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">impl</span><span class="token plain"> </span><span class="token class-name">Tunnel</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> sess </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">ngrok</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">::</span><span class="token class-name">Session</span><span class="token punctuation" style="color:#393A34">::</span><span class="token function" style="color:#d73a49">builder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">authtoken_from_env</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">await</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> tun </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sess</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">http_endpoint</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">request_header</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;is-ngrok&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">request_header</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;country&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${.ngrok.geo.country_code}&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">remove_request_header</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;referrer&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">listen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword" style="color:#00009f">await</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property" style="color:#36acaa">println!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Listening on URL: {:?}&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> tun</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token class-name">Ok</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_XBoj" id="kubernetes-ingress-controller">Kubernetes Ingress Controller<a href="#kubernetes-ingress-controller" class="hash-link" aria-label="Direct link to Kubernetes Ingress Controller" title="Direct link to Kubernetes Ingress Controller">​</a></h3><div class="language-yaml codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-yaml codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> NgrokModuleSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ingress.k8s.ngrok.com/v1alpha1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ngrok</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">modules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">headers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">request</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">add</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">is-ngrok</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">country</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${.ngrok.geo.country_code}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">remove</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;referrer&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> networking.k8s.io/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Ingress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ingress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">k8s.ngrok.com/modules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ngrok</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">module</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">ingressClassName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ngrok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">rules</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> your</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">domain.ngrok.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">paths</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">pathType</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Prefix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">backend</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">number</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">80</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_XBoj" id="edges">Edges<a href="#edges" class="hash-link" aria-label="Direct link to Edges" title="Direct link to Edges">​</a></h3><p>Request Headers is a supported HTTP Edge Route module.</p><ul><li><a href="/docs/api/resources/https-edge-route-request-headers-module/">Request Headers Edge Module API
Resource</a></li></ul><h2 class="anchor anchorWithStickyNavbar_XBoj" id="behavior">Behavior<a href="#behavior" class="hash-link" aria-label="Direct link to Behavior" title="Direct link to Behavior">​</a></h2><h3 class="anchor anchorWithStickyNavbar_XBoj" id="ordering">Ordering<a href="#ordering" class="hash-link" aria-label="Direct link to Ordering" title="Direct link to Ordering">​</a></h3><p>Request header changes made by other modules can be overridden by this module
because this module is executed immediately before the HTTP request is
transmitted to the upstream application.</p><h3 class="anchor anchorWithStickyNavbar_XBoj" id="variable-interpolation">Variable Interpolation<a href="#variable-interpolation" class="hash-link" aria-label="Direct link to Variable Interpolation" title="Direct link to Variable Interpolation">​</a></h3><p>You may interpolate variables into header values. Variables are interpolated
into headers with JSONPath expressions surrounded by the <code>${}</code> syntax.</p><p>For example to include geographical data about the client IP that initiated the
request, you may construct a header value like so.</p><div class="language-bash codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-bash codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token plain">ngrok http </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"> --request-header-add </span><span class="token string" style="color:#e3116c">&#x27;country: ${.ngrok.geo.country_code}&#x27;</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you are specifying variable interpolation from the command line, make sure
to use single quotes for the command line argument otherwise it is likely that
the shell will interpret your variable definition.</p><p>Consult the <a href="#variables">Variables Reference</a> for the available variables.</p><h3 class="anchor anchorWithStickyNavbar_XBoj" id="multiple-header-values">Multiple Header Values<a href="#multiple-header-values" class="hash-link" aria-label="Direct link to Multiple Header Values" title="Direct link to Multiple Header Values">​</a></h3><p>HTTP headers may include the same header multiple times. You may add a header
multiple times with different values and it will be added multiple times. For
example:</p><div class="language-bash codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-bash codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token plain">ngrok http </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"> --request-header-add </span><span class="token string" style="color:#e3116c">&quot;foo: bar&quot;</span><span class="token plain"> --request-header-add </span><span class="token string" style="color:#e3116c">&quot;foo: baz&quot;</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>will result in a header with multiple values set</p><div class="language-http codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-http codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token plain">GET / HTTP/1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host: example.ngrok.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foo: bar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foo: baz</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_gQPT"><div class="admonitionHeading_J5jC"><span class="admonitionIcon_vpFq"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_WF6S"><p>There is a bug which currently causes the above behavior to not be correct.
Only the last header to be used when specifying multiple headers. This behavior
will be fixed to match what is documented above.</p></div></div><p>If you remove a header that has multiple values, all values will be removed.</p><h3 class="anchor anchorWithStickyNavbar_XBoj" id="replacing-header-values">Replacing Header Values<a href="#replacing-header-values" class="hash-link" aria-label="Direct link to Replacing Header Values" title="Direct link to Replacing Header Values">​</a></h3><p>If you add a header that is already present in the HTTP request, it will add
another header. For example, if you run:</p><div class="language-bash codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-bash codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token plain">ngrok http </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"> --request-header-add </span><span class="token string" style="color:#e3116c">&quot;foo: new-value&quot;</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And the HTTP request was already:</p><div class="language-http codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-http codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token plain">GET / HTTP/1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host: example.ngrok.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foo: original-value</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The client will receive the following:</p><div class="language-http codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-http codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token plain">GET / HTTP/1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host: example.ngrok.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foo: original-value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foo: new-value</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you wish to replace a header, you can combine header removal and addition to
achieve that effect.</p><div class="language-bash codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-bash codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token plain">ngrok http </span><span class="token number" style="color:#36acaa">80</span><span class="token plain"> --request-header-remove </span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token plain"> --request-header-add </span><span class="token string" style="color:#e3116c">&quot;foo: new-value&quot;</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will cause the HTTP request in this case to become:</p><div class="language-http codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-http codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token plain">GET / HTTP/1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">host: example.ngrok.app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">foo: new-value</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_XBoj" id="case-sensitivity">Case Sensitivity<a href="#case-sensitivity" class="hash-link" aria-label="Direct link to Case Sensitivity" title="Direct link to Case Sensitivity">​</a></h3><p>When adding headers, ngrok normalizes all header keys to a lower case
reprsentation per the http/2 RFC. See <a href="https://datatracker.ietf.org/doc/html/rfc7540#section-8.1.2" target="_blank" rel="noopener noreferrer">RFC
7540</a>.</p><p>When removing headers, ngrok will remove any headers that match with a
case-insensitive comparison.</p><h3 class="anchor anchorWithStickyNavbar_XBoj" id="automatic-headers">Automatic Headers<a href="#automatic-headers" class="hash-link" aria-label="Direct link to Automatic Headers" title="Direct link to Automatic Headers">​</a></h3><p>Regardless of whether you enable the request headers module or not, ngrok adds
two headers to every HTTP request that is processed by the ngrok edge.</p><table><thead><tr><th>Header</th><th>Description</th></tr></thead><tbody><tr><td>X-Forwarded-For</td><td>The IP address of the client who initiated the request to the ngrok edge.</td></tr><tr><td>X-Forwarded-Proto</td><td>Either <code>http</code> or <code>https</code>, indicating the protocol the ngrok edge received the request on.</td></tr></tbody></table><p>You may remove these headers with the request headers module.</p><h3 class="anchor anchorWithStickyNavbar_XBoj" id="special-cases">Special Cases<a href="#special-cases" class="hash-link" aria-label="Direct link to Special Cases" title="Direct link to Special Cases">​</a></h3><ul><li>You may not add or remove the <code>user-agent</code> header.</li><li>You may not remove the <code>host</code> header without adding it with a different value.</li><li>Adding a <code>host</code> header will replace the existing value instead of adding a second value.</li><li>You may not use this module to add the <code>ngrok-skip-browser-warning</code> header to skip the ngrok browser warning on free accounts.</li></ul><h2 class="anchor anchorWithStickyNavbar_XBoj" id="reference">Reference<a href="#reference" class="hash-link" aria-label="Direct link to Reference" title="Direct link to Reference">​</a></h2><h3 class="anchor anchorWithStickyNavbar_XBoj" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h3><table><thead><tr><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td><strong>Added Headers</strong></td><td>A list of of header names to header values. Max 5.</td></tr><tr><td><strong>Removed Headers</strong></td><td>A list of of header names to remove. Max 5.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_XBoj" id="upstream-headers">Upstream Headers<a href="#upstream-headers" class="hash-link" aria-label="Direct link to Upstream Headers" title="Direct link to Upstream Headers">​</a></h3><p>This module adds the configured headers to requests sent to the upstream
application.</p><h3 class="anchor anchorWithStickyNavbar_XBoj" id="errors">Errors<a href="#errors" class="hash-link" aria-label="Direct link to Errors" title="Direct link to Errors">​</a></h3><p>This module does not return any errors.</p><h3 class="anchor anchorWithStickyNavbar_XBoj" id="events">Events<a href="#events" class="hash-link" aria-label="Direct link to Events" title="Direct link to Events">​</a></h3><p>This module does not populate any fields in events.</p><h3 class="anchor anchorWithStickyNavbar_XBoj" id="limits">Limits<a href="#limits" class="hash-link" aria-label="Direct link to Limits" title="Direct link to Limits">​</a></h3><p>This module is available on all plans.</p><h3 class="anchor anchorWithStickyNavbar_XBoj" id="variables">Variables<a href="#variables" class="hash-link" aria-label="Direct link to Variables" title="Direct link to Variables">​</a></h3><p>ngrok makes variables available for <a href="#variable-interpolation">interpolation into
headers</a>.</p><p>Some variables will only be populated with values if you have configured the
corresponding module for your endpoint, otherwise they will be empty. For
example, the variable <code>${.basic_auth.username}</code> is only available if you have
enabled the basic auth module on your endpoint.</p><h4 class="anchor anchorWithStickyNavbar_XBoj" id="backend">Backend Variables<a href="#backend" class="hash-link" aria-label="Direct link to Backend Variables" title="Direct link to Backend Variables">​</a></h4><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.backend.connection_reused}</code></td><td>True if ngrok reused a TCP connection to transmit the HTTP request to the upstream service.</td></tr><tr><td><code>${.backend.dial_duration}</code></td><td>The time to establish a connection from ngrok to the agent.</td></tr><tr><td><code>${.backend.id}</code></td><td>This is the ngrok ID of the backend that serviced this request. This is empty if the endpoint is not handled by an Edge.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="basic-auth">Basic Auth Variables<a href="#basic-auth" class="hash-link" aria-label="Direct link to Basic Auth Variables" title="Direct link to Basic Auth Variables">​</a></h4><p>These variables are only populated when using the Basic Auth module.</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.basic_auth.decision}</code></td><td><code>allow</code> if the request successfully authenticated via the Basic Auth module, <code>block</code> otherwise.</td></tr><tr><td><code>${.basic_auth.username}</code></td><td>If the request successfully authenticated via the Basic Auth module, this is the username that authenticated.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="circuit-breaker">Circuit Breaker Variables<a href="#circuit-breaker" class="hash-link" aria-label="Direct link to Circuit Breaker Variables" title="Direct link to Circuit Breaker Variables">​</a></h4><p>These variables are only available when using the Circuit Breaker module.</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.circuit_breaker.decision}</code></td><td>Whether the HTTP request was sent to the upstream service. <code>allow</code> if the breaker was closed, <code>block</code> if the breaker was open, <code>allow_while_open</code> if the request was allowed while the breaker is open.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="compression">Compression Variables<a href="#compression" class="hash-link" aria-label="Direct link to Compression Variables" title="Direct link to Compression Variables">​</a></h4><p>These variables are only populated when using the Compression module.</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.compression.algorithm}</code></td><td>The compression algorithm used to encode responses from the endpoint. Either <code>gzip</code>, <code>deflate</code>, or <code>none</code>.</td></tr><tr><td><code>${.compression.bytes_saved}</code></td><td>The difference between the size of the raw response and the size of the response as compressed by ngrok.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="conn">Connection Variables<a href="#conn" class="hash-link" aria-label="Direct link to Connection Variables" title="Direct link to Connection Variables">​</a></h4><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.conn.bytes_in}</code></td><td>The number of bytes arriving at an endpoint from the frontend.</td></tr><tr><td><code>${.conn.bytes_out}</code></td><td>The number of bytes leaving an endpoint to the frontend.</td></tr><tr><td><code>${.conn.client_ip}</code></td><td>The source IP of the TCP connection to the ngrok edge.</td></tr><tr><td><code>${.conn.duration}</code></td><td>The total duration (in seconds) of the TCP connection between the ngrok endpoint and the agent.</td></tr><tr><td><code>${.conn.end_ts}</code></td><td>The timestamp when the TCP connection to the ngrok edge is closed.</td></tr><tr><td><code>${.conn.id}</code></td><td>The ngrok ID for this TCP connection.</td></tr><tr><td><code>${.conn.server_ip}</code></td><td>The IP address of the server that received the request.</td></tr><tr><td><code>${.conn.server_name}</code></td><td>The hostname associated with this connection.</td></tr><tr><td><code>${.conn.server_port}</code></td><td>The port that the connection for this request came in on.</td></tr><tr><td><code>${.conn.start_ts}</code></td><td>The timestamp when the TCP connection to the ngrok edge is established.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="ngrok-geo">Geo IP Variables<a href="#ngrok-geo" class="hash-link" aria-label="Direct link to Geo IP Variables" title="Direct link to Geo IP Variables">​</a></h4><p>The source of this data is subject to change. It is currently provided by <a href="https://www.maxmind.com/en/home" target="_blank" rel="noopener noreferrer">MaxMind GeoIP</a>.</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.ngrok.geo.country_code}</code></td><td>This is the two-letter ISO country code based on the client IP.</td></tr><tr><td><code>${.ngrok.geo.lat_long_radius_km}</code></td><td>This is the radius in kilometers around the latitude and longitude where the client IP is likely to originate.</td></tr><tr><td><code>${.ngrok.geo.latitude}</code></td><td>This is the approximate latitude based on the client IP.</td></tr><tr><td><code>${.ngrok.geo.longitude}</code></td><td>This is the approximate longitude based on the client IP.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="http">HTTP Variables<a href="#http" class="hash-link" aria-label="Direct link to HTTP Variables" title="Direct link to HTTP Variables">​</a></h4><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.http.request_id}</code></td><td>The unique ngrok-assigned ID of this request.</td></tr><tr><td><code>${.http.request.method}</code></td><td>The request method, normalized to uppercase.</td></tr><tr><td><code>${.http.request.url.host}</code></td><td>The host component of the request URL.</td></tr><tr><td><code>${.http.request.url.path}</code></td><td>The path component of the request URL</td></tr><tr><td><code>${.http.request.url.query}</code></td><td>The query string component of the request URL</td></tr><tr><td><code>${.http.request.url.raw}</code></td><td>The full URL of the request including scheme, host, path, and query string.</td></tr><tr><td><code>${.http.request.url.scheme}</code></td><td>The scheme component of the request URL.</td></tr><tr><td><code>${.http.request.user_agent}</code></td><td>The value of the User-Agent header in the request received by ngrok edge.</td></tr><tr><td><code>${.http.request.version}</code></td><td>The HTTP version used in the request.</td></tr><tr><td><code>${.http.response.status_code}</code></td><td>The status code of the response returned by the ngrok edge.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="ip-restrictions">IP Restrictions Variables<a href="#ip-restrictions" class="hash-link" aria-label="Direct link to IP Restrictions Variables" title="Direct link to IP Restrictions Variables">​</a></h4><p>These variables are only populated when using the IP Restrictions module.</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.ip_policy.decision}</code></td><td><code>allow</code> if IP Policy module permitted the request to the upstream service, <code>block</code> otherwise.</td></tr><tr><td><code>${.ip_policy.matching_rule}</code></td><td>The rule that triggered an IP Policy match on the endpoint.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="mutual-tls">Mutual TLS<a href="#mutual-tls" class="hash-link" aria-label="Direct link to Mutual TLS" title="Direct link to Mutual TLS">​</a></h4><p>These variables are only populated when using the Mutual TLS module.</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.tls.client_cert.serial_number}</code></td><td>The serial number of the client&#x27;s leaf TLS certificate in the Mutual TLS handshake.</td></tr><tr><td><code>${.tls.client_cert.subject.cn}</code></td><td>The subject common name of the client&#x27;s leaf TLS certificate in the Mutual TLS handshake.</td></tr><tr><td><code>${.tls.client_cert.subject}</code></td><td>The subject of the client&#x27;s leaf TLS certificate in the Mutual TLS handshake</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="ngrok-variables">ngrok Variables<a href="#ngrok-variables" class="hash-link" aria-label="Direct link to ngrok Variables" title="Direct link to ngrok Variables">​</a></h4><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.ngrok.client_ip}</code></td><td>This is the original client IP of the request.</td></tr><tr><td><code>${.ngrok.request_id}</code></td><td>This is the unique request ID generated by ngrok</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="oauth">OAuth Variables<a href="#oauth" class="hash-link" aria-label="Direct link to OAuth Variables" title="Direct link to OAuth Variables">​</a></h4><p>These variables are only populated when using the OAuth module.</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.oauth.app_client_id}</code></td><td>The is the ID of the OAuth2 application used to handle this request.</td></tr><tr><td><code>${.oauth.decision}</code></td><td>&#x27;allow&#x27; if the OAuth module permitted the request to the upstream service, &#x27;block&#x27; otherwise.</td></tr><tr><td><code>${.oauth.user.email}</code></td><td>This is the email address of the user that was authenticated.</td></tr><tr><td><code>${.oauth.user.id}</code></td><td>The authenticated user&#x27;s ID returned by the OAuth provider.</td></tr><tr><td><code>${.oauth.user.name}</code></td><td>The authenticated user&#x27;s name returned by the OAuth provider.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="openid-connect">OpenID Connect Variables<a href="#openid-connect" class="hash-link" aria-label="Direct link to OpenID Connect Variables" title="Direct link to OpenID Connect Variables">​</a></h4><p>These variables are only populated when using the OpenID Connect module. These
variables are identical to the <a href="#oauth">OAuth Variables</a>.</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.oauth.app_client_id}</code></td><td>The is the ID of the OAuth application used to handle this request.</td></tr><tr><td><code>${.oauth.decision}</code></td><td><code>allow</code> if the OpenID Connect module permitted the request to the upstream service, <code>block</code> otherwise.</td></tr><tr><td><code>${.oauth.user.email}</code></td><td>This is the email address of the user that was authenticated.</td></tr><tr><td><code>${.oauth.user.id}</code></td><td>The authenticated user&#x27;s ID returned by the OpenID Connect provider.</td></tr><tr><td><code>${.oauth.user.name}</code></td><td>The authenticated user&#x27;s name returned by the OpenID Connect provider.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="saml">SAML Variables<a href="#saml" class="hash-link" aria-label="Direct link to SAML Variables" title="Direct link to SAML Variables">​</a></h4><p>These variables are only populated when using the SAML module.</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.ngrok.saml.subject}</code></td><td>The SAML subject of the the authenticated user.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="tls">TLS Termination Variables<a href="#tls" class="hash-link" aria-label="Direct link to TLS Termination Variables" title="Direct link to TLS Termination Variables">​</a></h4><p>These variables are only populated on requests to HTTPS endpoints.</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.tls.cipher_suite}</code></td><td>The cipher suite selected during the TLS handshake.</td></tr><tr><td><code>${.tls.version}</code></td><td>The version of the TLS protocol used between the client and the ngrok edge.</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_XBoj" id="webhook-verification">Webhook Verification Variables<a href="#webhook-verification" class="hash-link" aria-label="Direct link to Webhook Verification Variables" title="Direct link to Webhook Verification Variables">​</a></h4><p>These variables are only populated when using the Webhook Verification module.</p><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><code>${.webhook_validation.decision}</code></td><td>&#x27;allow&#x27; if the Webhook Verification module permitted the request to the upstream service, &#x27;block&#x27; otherwise.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_XBoj" id="try-it-out">Try it out<a href="#try-it-out" class="hash-link" aria-label="Direct link to Try it out" title="Direct link to Try it out">​</a></h2><p>To try out the request headers module we&#x27;re going to foward to httpbin.</p><div class="language-bash codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-bash codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token plain">ngrok http https://httpbin.org --domain your-domain.ngrok.app</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In another terminal, curl that endpoint:</p><div class="language-bash codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-bash codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> https://your-domain.ngrok.app/headers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;headers&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Accept&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*/*&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Accept-Encoding&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gzip&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Host&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your-domain.ngrok.app&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;User-Agent&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;curl/7.85.0&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;X-Amzn-Trace-Id&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Root=1-64d939d7-638343a031ac3f895e36af65&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, let&#x27;s try manipulating the headers. We&#x27;ll remove the <code>user-agent</code> header
and add a header of our own with geo data. Stop your previous instance of ngrok
with <code>Ctrl+C</code> and then restart ngrok with a new command.</p><div class="language-bash codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-bash codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token plain">ngrok http https://httpbin.org </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --domain your-domain.ngrok.app </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --request-header-remove</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;user-agent&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --request-header-add</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;country: ${.ngrok.geo.country_code}&#x27;</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then curl your endpoint again to see how the request headers have been updated:</p><div class="language-bash codeBlockContainer_AW9t theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_UOzK"><pre tabindex="0" class="prism-code language-bash codeBlock_seRp thin-scrollbar"><code class="codeBlockLines_Kx3i"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> https://your-domain.ngrok.app/headers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;headers&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Accept&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;*/*&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Accept-Encoding&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gzip&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Country&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;US&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;Host&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;your-domain.ngrok.app&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;X-Amzn-Trace-Id&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Root=1-64d93b73-689c799b056568ff13546ef4&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_XsbS"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_Rq4_" aria-hidden="true"><svg class="copyButtonIcon_uVLt" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vEMg" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ngrok/ngrok-docs/edit/main/docs/cloud-edge/modules/request-headers.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_G_YM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_GW8B"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-08-27T19:04:17.000Z">Aug 27, 2023</time></b> by <b>Alan Shreve</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/cloud-edge/modules/openid-connect/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">OpenID Connect</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/cloud-edge/modules/response-headers/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Response Headers</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_EPzx thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#quickstart" class="table-of-contents__link toc-highlight">Quickstart</a><ul><li><a href="#agent-cli" class="table-of-contents__link toc-highlight">Agent CLI</a></li><li><a href="#agent-configuration-file" class="table-of-contents__link toc-highlight">Agent Configuration File</a></li><li><a href="#ssh" class="table-of-contents__link toc-highlight">SSH</a></li><li><a href="#go-sdk" class="table-of-contents__link toc-highlight">Go SDK</a></li><li><a href="#rust-sdk" class="table-of-contents__link toc-highlight">Rust SDK</a></li><li><a href="#kubernetes-ingress-controller" class="table-of-contents__link toc-highlight">Kubernetes Ingress Controller</a></li><li><a href="#edges" class="table-of-contents__link toc-highlight">Edges</a></li></ul></li><li><a href="#behavior" class="table-of-contents__link toc-highlight">Behavior</a><ul><li><a href="#ordering" class="table-of-contents__link toc-highlight">Ordering</a></li><li><a href="#variable-interpolation" class="table-of-contents__link toc-highlight">Variable Interpolation</a></li><li><a href="#multiple-header-values" class="table-of-contents__link toc-highlight">Multiple Header Values</a></li><li><a href="#replacing-header-values" class="table-of-contents__link toc-highlight">Replacing Header Values</a></li><li><a href="#case-sensitivity" class="table-of-contents__link toc-highlight">Case Sensitivity</a></li><li><a href="#automatic-headers" class="table-of-contents__link toc-highlight">Automatic Headers</a></li><li><a href="#special-cases" class="table-of-contents__link toc-highlight">Special Cases</a></li></ul></li><li><a href="#reference" class="table-of-contents__link toc-highlight">Reference</a><ul><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li><li><a href="#upstream-headers" class="table-of-contents__link toc-highlight">Upstream Headers</a></li><li><a href="#errors" class="table-of-contents__link toc-highlight">Errors</a></li><li><a href="#events" class="table-of-contents__link toc-highlight">Events</a></li><li><a href="#limits" class="table-of-contents__link toc-highlight">Limits</a></li><li><a href="#variables" class="table-of-contents__link toc-highlight">Variables</a></li></ul></li><li><a href="#try-it-out" class="table-of-contents__link toc-highlight">Try it out</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ngrok Service</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/">Get Started</a></li><li class="footer__item"><a href="https://dashboard.ngrok.com/signup" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sign up</a></li><li class="footer__item"><a href="https://dashboard.ngrok.com/login" target="_blank" rel="noopener noreferrer" class="footer__link-item">Login</a></li><li class="footer__item"><a href="https://ngrok.com/download" target="_blank" rel="noopener noreferrer" class="footer__link-item">Download</a></li><li class="footer__item"><a href="https://ngrok.com/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docs</a></li><li class="footer__item"><a href="https://status.ngrok.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status</a></li></ul></div><div class="col footer__col"><div class="footer__title">ngrok.com</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ngrok.com/product" target="_blank" rel="noopener noreferrer" class="footer__link-item">Product</a></li><li class="footer__item"><a href="https://ngrok.com/pricing" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pricing</a></li><li class="footer__item"><a href="https://ngrok.com/customers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Customers</a></li><li class="footer__item"><a href="https://ngrok.com/solutions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Solutions</a></li><li class="footer__item"><a href="https://ngrok.com/partners" target="_blank" rel="noopener noreferrer" class="footer__link-item">Partners</a></li><li class="footer__item"><a href="https://trust.ngrok.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trust Portal</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ngrok.com/abuse" target="_blank" rel="noopener noreferrer" class="footer__link-item">Abuse</a></li><li class="footer__item"><a href="https://ngrok.com/dpa" target="_blank" rel="noopener noreferrer" class="footer__link-item">DPA</a></li><li class="footer__item"><a href="https://ngrok.com/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://ngrok.com/security" target="_blank" rel="noopener noreferrer" class="footer__link-item">Security</a></li><li class="footer__item"><a href="https://ngrok.com/tos" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of service</a></li><li class="footer__item"><a href="https://ngrok.com/privacy-preferences" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Preferences</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ngrok.com/careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></li><li class="footer__item"><a href="https://blog.ngrok.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://ngrok.com/slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community</a></li><li class="footer__item"><a href="https://twitter.com/ngrokHQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/ngrok" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li><li class="footer__item"><a href="https://github.com/ngrok" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© ngrok 2023</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.c806facc.js"></script>
<script src="/docs/assets/js/main.c621065b.js"></script>
</body>
</html>